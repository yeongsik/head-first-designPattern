# Chapter 02 옵저버 패턴

- 신문사의 구독시스템으로 옵저버 패턴을 이해하자
    - 신문 ( 주제 ) 객체 , 구독자 ( 옵저버 ) 객체
    - 주제 객체는 상태가 변하면 옵저버 객체들에게 알린다.
    - 주제 객체는 옵저버 객체들이 원하면 등록 혹은 해제를 할 수 있다.

## 옵저버 패턴

- 한 객체의 상태가 바뀌면 그 객체에 `의존하는` 다른 객체에게 연락이 가고 자동으로 내용이 갱신되는 방식으로 `일대다 (one-to-many)` 의존성`을 정의
- 보통은 주제 인터페이스와 옵저버 인터페이스가 들어있는 클래스 디자인으로 구현

### 느슨한 결합(Loose Coupling)

- 객체들이 상호작용은 하지만 서로를 잘 모르는 관계
- 유연성이 좋음
- 옵저버 패턴은 느슨한 결합의 좋은 예
    1. **주제는 옵저버가 특정 인터페이스를 구현한다는 사실만 안다.**

       옵저버의 구상 클래스, 옵저버가 무엇을 하는지 알 필요 X

    2. **옵저버는 언제든지 새로 추가 가능**

       주제는 옵저버 인터페이스를 구현하는 객체의 목록에만 의존 , 언제든지 새로운 옵저버를 추가 가능 ⇒ 실행 중 옵저버가 바뀌어도 계속해서 다른 옵저버에게 데이터를 보낼 수 있다.

       반대로 언제나 옵저버를 제거할 수 있다.

    3. **새로운 형식의 옵저버를 추가할 때 , 주제 변경 필요 X**

#### 추가된 객체지향 원칙
    상호작용하는 객체사이에서는 가능하면 느슨한 결합을 사용 

### 핵심 정리 
1. 옵저버 패턴은 객체들 사이 일대다 관계 정의
2. 주제는 동일한 인터페이스를 써 옵저버에게 연락
3. Observer 인터페이스를 구현가민 하면 어떤 구상 클래스의 옵저버라도 패턴에 참여 가능
4. 주제는 옵저버들이 Observer 인터페이스를 구현한다는 것을 제외하면 옵저버에 대해 모른다. -> 느슨한 결합 
5. 주제가 데이터를 보내는 푸시방식 과 옵저버가 데이터를 가져올 풀 방식이 있다. => 일반적으로 풀 방식이 더 '옳은' 방식이라고 함
